<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_17) on Tue Oct 08 17:41:09 CEST 2013 -->
<title>ChangeManager</title>
<meta name="date" content="2013-10-08">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ChangeManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChangeManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../server/Breadcrumb.html" title="class in server"><span class="strong">Prev Class</span></a></li>
<li><a href="../server/CloudFactory.html" title="class in server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?server/ChangeManager.html" target="_top">Frames</a></li>
<li><a href="ChangeManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">server</div>
<h2 title="Class ChangeManager" class="title">Class ChangeManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>server.ChangeManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ChangeManager</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Class for managing file operations in the database</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../server/ChangeManager.html#ChangeManager(server.data.SharedFolderManager, server.data.FileManager)">ChangeManager</a></strong>(<a href="../server/data/SharedFolderManager.html" title="class in server.data">SharedFolderManager</a>&nbsp;shfm,
             <a href="../server/data/FileManager.html" title="class in server.data">FileManager</a>&nbsp;fm)</code>
<div class="block">Constructs an instance of ChangeManager.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#deleteShared(java.lang.String, java.lang.String)">deleteShared</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">Marks the file/folder as deleted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#moveShared(java.lang.String, java.lang.String, java.lang.String)">moveShared</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">Marks the original file/folder as deleted (moved).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#recordCopy(java.lang.String, java.lang.String, java.lang.String, java.util.Map, java.util.Map)">recordCopy</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid,
          <a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;pathToRevMap,
          <a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;pathToFileIdMap)</code>
<div class="block">Copies a file in the database: creates a new <a href="../server/model/FileEntry.html" title="class in server.model"><code>FileEntry</code></a> at the <code>toPath</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#recordDelete(java.lang.String, java.lang.String, java.lang.String, boolean)">recordDelete</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid,
            boolean&nbsp;includeDeleted)</code>
<div class="block">Marks a file/folder as deleted.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#recordMove(java.lang.String, java.lang.String, java.lang.String, server.enums.MoveAction, java.util.Map, java.lang.String, boolean)">recordMove</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid,
          <a href="../server/enums/MoveAction.html" title="enum in server.enums">MoveAction</a>&nbsp;moveAction,
          <a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;pathToRevMap,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid,
          boolean&nbsp;includeDeleted)</code>
<div class="block">Records a move operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#recordNewFolder(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">recordNewFolder</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
               <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rev,
               <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileId,
               <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid)</code>
<div class="block">Records a new folder in the database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#recordUndelete(java.lang.String, java.lang.String)">recordUndelete</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid)</code>
<div class="block">Marks the file/file hierarchy as not deleted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#recordUpload(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">recordUpload</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;parentPath,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rev,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileId,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid)</code>
<div class="block">Records a newly uploaded file in the database</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#renameShared(java.lang.String, java.lang.String, java.lang.String)">renameShared</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">Renames a shared file (by the folder owner).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#restoreDeleteShared(java.lang.String, java.lang.String)">restoreDeleteShared</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                   <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">When the owner of the shared folder deletes a file, it is "deleteshared".</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#restoreMoveShared(java.lang.String, java.lang.String, java.lang.String)">restoreMoveShared</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorSuggestedPath,
                 <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorPath,
                 <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">When the owner of the shared folder moves a file, it is "moveshared".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#restoreRenameShared(java.lang.String, java.lang.String, java.lang.String)">restoreRenameShared</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorSuggestedPath,
                   <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorPath,
                   <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">When the owner of the shared folder renames a file, it is "renameshared".</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#suggestDelete(java.lang.String, java.lang.String)">suggestDelete</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
             <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">Suggests deleting a file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#suggestMove(java.lang.String, java.lang.String, java.lang.String)">suggestMove</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
           <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
           <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">Suggests moving a file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../server/ChangeManager.html#suggestRename(java.lang.String, java.lang.String, java.lang.String)">suggestRename</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
             <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
             <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</code>
<div class="block">Suggests renaming a file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ChangeManager(server.data.SharedFolderManager, server.data.FileManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ChangeManager</h4>
<pre>public&nbsp;ChangeManager(<a href="../server/data/SharedFolderManager.html" title="class in server.data">SharedFolderManager</a>&nbsp;shfm,
             <a href="../server/data/FileManager.html" title="class in server.data">FileManager</a>&nbsp;fm)</pre>
<div class="block">Constructs an instance of ChangeManager.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>shfm</code> - a <a href="../server/data/SharedFolderManager.html" title="class in server.data"><code>SharedFolderManager</code></a> instance</dd><dd><code>fm</code> - a <a href="../server/data/FileManager.html" title="class in server.data"><code>FileManager</code></a> instance</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="recordCopy(java.lang.String, java.lang.String, java.lang.String, java.util.Map, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordCopy</h4>
<pre>public&nbsp;void&nbsp;recordCopy(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid,
              <a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;pathToRevMap,
              <a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;pathToFileIdMap)</pre>
<div class="block">Copies a file in the database: creates a new <a href="../server/model/FileEntry.html" title="class in server.model"><code>FileEntry</code></a> at the <code>toPath</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromPath</code> - Old file path</dd><dd><code>toPath</code> - New file path</dd><dd><code>userUid</code> - User UID (the user whose file it is)</dd><dd><code>pathToRevMap</code> - Map from paths to <code>rev</code>s. <code>rev</code> is the revision identifier in Dropbox. Correct <code>rev</code> needs to be assigned to the new file.</dd><dd><code>pathToFileIdMap</code> - Map from paths to <code>fileId</code>. <code>fileId</code> is Google's file identifier. Correct <code>fileId</code>s need to be assigned.</dd></dl>
</li>
</ul>
<a name="restoreRenameShared(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreRenameShared</h4>
<pre>public&nbsp;void&nbsp;restoreRenameShared(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorSuggestedPath,
                       <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorPath,
                       <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">When the owner of the shared folder renames a file, it is "renameshared". This method restores the file to the old state (probably because the collaborators rejected the rename).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>initiatorSuggestedPath</code> - The path to the renamed file</dd><dd><code>initiatorPath</code> - The original file path.</dd><dd><code>initiatorUid</code> - UID of the vote initiator (user who renamed the file).</dd></dl>
</li>
</ul>
<a name="restoreMoveShared(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreMoveShared</h4>
<pre>public&nbsp;void&nbsp;restoreMoveShared(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorSuggestedPath,
                     <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorPath,
                     <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">When the owner of the shared folder moves a file, it is "moveshared". This method restores the file to the old state (probably because the collaborators rejected the move).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>initiatorSuggestedPath</code> - The path to the moved file.</dd><dd><code>initiatorPath</code> - The path to the original file</dd><dd><code>initiatorUid</code> - UID of the vote initiator (the user who moved the file).</dd></dl>
</li>
</ul>
<a name="restoreDeleteShared(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreDeleteShared</h4>
<pre>public&nbsp;void&nbsp;restoreDeleteShared(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                       <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">When the owner of the shared folder deletes a file, it is "deleteshared". This method restores the file to the old state (probably because the collaborators rejected the delete).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - File path</dd><dd><code>initiatorUid</code> - UID of the vote initiator (user who deleted the file)</dd></dl>
</li>
</ul>
<a name="suggestDelete(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suggestDelete</h4>
<pre>public&nbsp;void&nbsp;suggestDelete(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                 <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">Suggests deleting a file. Records a voting process for deleting the file in the voting collection and a vote in favor in the votingusers collection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - Path to the file</dd><dd><code>initiatorUid</code> - UID of the vote initiator (the user who suggested deleting the file).</dd></dl>
</li>
</ul>
<a name="deleteShared(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteShared</h4>
<pre>public&nbsp;void&nbsp;deleteShared(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">Marks the file/folder as deleted. Records a voting process in the voting collection and a vote in favor in the votingusers collection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - Path to the file.</dd><dd><code>initiatorUid</code> - UID of the vote initiator (the folder owner who deleted the file).</dd></dl>
</li>
</ul>
<a name="moveShared(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveShared</h4>
<pre>public&nbsp;void&nbsp;moveShared(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">Marks the original file/folder as deleted (moved). Creates a new file (or file hierarchy). Records a voting process in the voting collection and a vote in the votingusers collection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromPath</code> - Original file path</dd><dd><code>toPath</code> - Path to the moved file</dd><dd><code>initiatorUid</code> - UID of the vote initiator (the folder owner who moved the file).</dd></dl>
</li>
</ul>
<a name="suggestMove(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suggestMove</h4>
<pre>public&nbsp;void&nbsp;suggestMove(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
               <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
               <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">Suggests moving a file. Records a voting process in the voting collection and a vote in favor in the votingusers collection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromPath</code> - Path to the original file.</dd><dd><code>toPath</code> - Path to the moved file.</dd><dd><code>initiatorUid</code> - UID of the vote initiator (user who suggested moving the file).</dd></dl>
</li>
</ul>
<a name="suggestRename(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suggestRename</h4>
<pre>public&nbsp;void&nbsp;suggestRename(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
                 <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
                 <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">Suggests renaming a file. Records a voting process in the voting collection, and a vote in favor in the votingusers collection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromPath</code> - Path to the original file.</dd><dd><code>toPath</code> - Path the the renamed file.</dd><dd><code>initiatorUid</code> - UID of the vote initiator (user who suggested renaming a file).</dd></dl>
</li>
</ul>
<a name="renameShared(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameShared</h4>
<pre>public&nbsp;void&nbsp;renameShared(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid)</pre>
<div class="block">Renames a shared file (by the folder owner).
 Similar to recordMove, but
 1. only does rename (+ subsequent move of the descendants)
 2. only for the given user -- be careful, no shared
 3. inserts data into voting and votingusers
 4. we still need folderseqs for that (because the path in votingusers may be different)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromPath</code> - Original file path</dd><dd><code>toPath</code> - New file path.</dd><dd><code>initiatorUid</code> - UID of the vote initiator (the folder owner who renamed the shared file).</dd></dl>
</li>
</ul>
<a name="recordMove(java.lang.String, java.lang.String, java.lang.String, server.enums.MoveAction, java.util.Map, java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordMove</h4>
<pre>public&nbsp;void&nbsp;recordMove(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fromPath,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toPath,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid,
              <a href="../server/enums/MoveAction.html" title="enum in server.enums">MoveAction</a>&nbsp;moveAction,
              <a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;pathToRevMap,
              <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid,
              boolean&nbsp;includeDeleted)</pre>
<div class="block">Records a move operation. Marks the original file/folder as deleted (moved), creates a new file (or file hierarchy).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromPath</code> - topmost ancestor's "from path"</dd><dd><code>toPath</code> - topmost ancestor's "to path"</dd><dd><code>userUid</code> - The owner of this file</dd><dd><code>moveAction</code> - Could be MOVE, RENAME, RESTORE. MoveAction.MOVE -- regular move, MoveAction.RENAME -- rename, MoveAction.RESTORE -- unmove, unrename (also see separate recordUndelete method)</dd><dd><code>pathToRevMap</code> - </dd><dd><code>initiatorUid</code> - used when we want to record the user different from the current user, e.g. in case of "rename shared" + accept --> we record the initiator as the "deleter" and "creator"</dd><dd><code>includeDeleted</code> - True if you want to include deleted files when listing the folder.</dd></dl>
</li>
</ul>
<a name="recordDelete(java.lang.String, java.lang.String, java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordDelete</h4>
<pre>public&nbsp;void&nbsp;recordDelete(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;initiatorUid,
                boolean&nbsp;includeDeleted)</pre>
<div class="block">Marks a file/folder as deleted.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - Path to the file</dd><dd><code>userUid</code> - UID of the owner of the file.</dd><dd><code>initiatorUid</code> - Used when we want to record a user different from the owner, e.g. in case of deleteShared + accept -- we record the file "deleter".</dd><dd><code>includeDeleted</code> - True if you want to include deleted files when listing folder contents.</dd></dl>
</li>
</ul>
<a name="recordUndelete(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordUndelete</h4>
<pre>public&nbsp;void&nbsp;recordUndelete(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                  <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid)</pre>
<div class="block">Marks the file/file hierarchy as not deleted.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - path to the file</dd><dd><code>userUid</code> - UID of the file owner</dd></dl>
</li>
</ul>
<a name="recordUpload(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordUpload</h4>
<pre>public&nbsp;void&nbsp;recordUpload(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;parentPath,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rev,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileId,
                <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid)</pre>
<div class="block">Records a newly uploaded file in the database</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parentPath</code> - Path to the folder where the file is uploaded to.</dd><dd><code>fileName</code> - Filename</dd><dd><code>rev</code> - Dropbox-specific revision identifier</dd><dd><code>fileId</code> - file ID, Google-specific file identifier</dd><dd><code>userUid</code> - UID of the file owner</dd></dl>
</li>
</ul>
<a name="recordNewFolder(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>recordNewFolder</h4>
<pre>public&nbsp;void&nbsp;recordNewFolder(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                   <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rev,
                   <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileId,
                   <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;userUid)</pre>
<div class="block">Records a new folder in the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - path to the folder</dd><dd><code>rev</code> - Dropbox-specific revision identifier</dd><dd><code>fileId</code> - File ID, Google-specific file identifier</dd><dd><code>userUid</code> - UID of the file owner.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChangeManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../server/Breadcrumb.html" title="class in server"><span class="strong">Prev Class</span></a></li>
<li><a href="../server/CloudFactory.html" title="class in server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?server/ChangeManager.html" target="_top">Frames</a></li>
<li><a href="ChangeManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
